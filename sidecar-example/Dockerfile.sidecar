FROM python:3.9-slim

# 设置工作目录
WORKDIR /app

# 复制 Sidecar 应用文件
COPY sidecar-app.py /app/sidecar-app.py

# 设置执行权限
RUN chmod +x /app/sidecar-app.py

# 创建共享目录
RUN mkdir -p /shared/logs

# 暴露端口
EXPOSE 8081

# 启动命令
CMD ["python3", "/app/sidecar-app.py"]
